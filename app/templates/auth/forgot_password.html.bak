{# FILE: templates/auth/forgot_password.html #}
{% extends "base.html" %}
{% block title %}Forgot Password — Kushwell{% endblock %}

{% block content %}
  <div class="kw-container">
    <div class="kw-card" role="region" aria-labelledby="forgot-title">
      <h1 id="forgot-title" class="kw-card__title">Forgot your password?</h1>
      <p class="kw-muted">Enter the email you used to sign up. If an account exists, we’ll email a reset link.</p>

      {# Flash messages #}
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            {% if category in ['success'] %}
              <div class="kw-alert kw-success">{{ message }}</div>
            {% elif category in ['error','danger'] %}
              <div class="kw-alert kw-error">{{ message }}</div>
            {% else %}
              <div class="kw-alert kw-info">{{ message }}</div>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form action="{{ url_for('auth.forgot_password') }}" method="post" novalidate aria-describedby="forgot-help">
        {# If using CSRF: <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"> #}

        <label for="email">
          <span>Email</span>
          <input id="email"
                 name="email"
                 type="email"
                 required
                 autocomplete="email"
                 class="kw-input">
        </label>

        <p id="forgot-help" class="kw-muted">We’ll send a link if we find an account with that email.</p>

        <p>
          <button type="submit" class="kw-btn primary">Send reset link</button>
        </p>
      </form>

      <p>
        <a href="{{ url_for('auth.login') }}" class="kw-link">Back to sign in</a>
      </p>
    </div>
  </div>
{% endblock %}

